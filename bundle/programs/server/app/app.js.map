{"version":3,"sources":["meteor://ðŸ’»app/lib/app_loader.js","meteor://ðŸ’»app/imports/api/publications.js","meteor://ðŸ’»app/imports/api/students.js","meteor://ðŸ’»app/imports/api/times.js","meteor://ðŸ’»app/server/main.js"],"names":["Meteor","isServer","Inject","rawHead","rawBody","Assets","getText","isClient","startup","setTimeout","$","fadeOut","remove","publish","users","find","fields","createdAt","profile","emails","username","module","export","Students","Mongo","link","v","Collection","studentsPublication","methods","showAllStudents","params","update","wheelId","$set","hidden","multi","hideAllStudents","Times","allow","insert","userId","space","timesPublication","Math","floor","Date","now","count","timer","adminPassword","roles","_","each","user","id","Accounts","createUser","email","password","name"],"mappings":"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","file":"/app.js","sourcesContent":["if (Meteor.isServer) {\n\tInject.rawHead(\"metaLoader\", '<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=0, width=device-width, height=device-height\"/><meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\t<meta name=\"mobile-web-app-capable\" content=\"yes\">');\n\n\tInject.rawBody(\"htmlLoader\", Assets.getText('app_loader.html'));\n}\n\nif (Meteor.isClient) {\n\tMeteor.startup(function() {\n\t\tsetTimeout(function() {\n\t\t\t$(\"#inject-loader-wrapper\").fadeOut(500, function() { $(this).remove(); });\n\t\t}, 700);\n\t});\n}","Meteor.publish(\"users\", function() {\n    return Meteor.users.find({}, {fields:{createdAt: true, profile: true, emails: true, username: true}});\n});","import { Mongo } from 'meteor/mongo';\n \nexport const Students = new Mongo.Collection('timer-students');\n\nif (Meteor.isServer) {\n\n  Meteor.publish('students', function studentsPublication() {\n    return Students.find();\n  });\n\n\tMeteor.methods({\n\t\tshowAllStudents: function(params) {\n    \t\tStudents.update({wheelId: params.wheelId}, {$set: {hidden: false}}, {multi: true});\n\t\t},\n\t\thideAllStudents: function(params) {\n    \t\tStudents.update({wheelId: params.wheelId}, {$set: {hidden: true}}, {multi: true});\n\t\t}\n\t});\t\n}","import { Mongo } from 'meteor/mongo';\n \nexport const Times = new Mongo.Collection('timer-times');\n\n\n\nTimes.allow({\n\n\tinsert: function() { return true},\n\tupdate: function(userId, space) { return true},\n\tremove: function(userId, space) { return true},\n\n\t// insert: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// update: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); },\n\n\t// remove: function(userId, space) { return ownsDocument(userId, space) || isAdmin(userId); }\n});\n\nif (Meteor.isServer) {\n\n  Meteor.publish('times', function timesPublication() {\n    return Times.find();\n  });\n}\n// if(Meteor.isServer) {\n\n// \tMeteor.publish('ownWheels', function(userId) {\n// \t\treturn Wheels.find({userId:userId});\n// \t});\n\n// \tMeteor.methods({\n// \t\twheelInsert: function(wheelAttributes) {\n\n// \t\t\tvar user = Meteor.user();\n// \t\t\tvar wheel = _.extend(wheelAttributes, {\n// \t\t\t\tuserId: user._id,\n// \t\t\t\tsubmitted: new Date(),\n// \t\t\t});\n\n// \t\t\tvar wheelId = Wheels.insert(wheel);\n\n\n// \t\t\treturn { _id: wheelId };\n// \t\t}\n// \t});\n// }","import { Meteor } from 'meteor/meteor';\nimport { Times } from '../imports/api/times.js';\n\nimport '../imports/api/times.js';\nimport '../imports/api/students.js';\nimport '../imports/api/publications.js';\nimport '../lib/app_loader.js';\n\n\nMeteor.startup(() => {\n  // code to run on server at startup\n\n  \tif (Meteor.isServer) {\n\n\t\tMeteor.methods({\n\n\t\t\t'getServerTime': function() { // Admin can forcibly change the password for a user\n\t\t\t\t//var timeInSeconds = ~(new Date).getTime();\n\t\t\t\t//return new Date(timeInSeconds*1000);\n\n\t\t\t\treturn Math.floor(Date.now() / 1000)\n\n\n\n\t\t\t\t// var date = new Date();\n\t\t\t\t// console.log(date);\n\t\t\t\t// return date.getMinutes();\n\t\t\t}\n\t\t});\n\n\t\tif (Times.find().count() === 0) {\n\t\t\tTimes.insert({timer:null});\n\t\t}\n\n\t\tif (Meteor.users.find().count() === 0) {\n\t\t\t\tvar adminPassword = \"admin\";\n\n\tvar users = [\n\t\t{username:\"admin\",roles:['admin']},\n\t];\n\n\t_.each(users, function (user) {\n\t\tvar id;\n\t\tid = Accounts.createUser({\n\t\t\tusername: user.username,\n\t\t\temail: \"Admin\",\n\t\t\tpassword: adminPassword,\n\t\t\tprofile:{name:\"Admin\"}\n\t\t});\n\t});\n}\n\t}\n});"]}